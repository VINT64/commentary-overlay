# Программа для просмотра и редактирования оверлеев с комментариями для изображений
##### Версия: бета2 (2018-11-28)
Поддерживаемые архивы: zip.
Поддерживаемые изображения:  png/jpeg/gif.
##### Инструкции: 
Открыть HTML с программой. В программе два режима: просмотрщик и редактор.
###### Режим просмотрщика: 
Выбрать архив с одинаковым количеством изображений и json файлов с комментариями (все должны соответствовать json-схеме). Изображения и комментарии будут загружены и отсортированы в лексикографическом порядке (10.jpg будет раньше, чем 8.jpg, но позже, чем 08.jpg) и сопоставлены соответственно.
По наведению на оверлей появляется комментарий. По щелчку на любом участке изображения все оверлеи скрываются.
Горячие клавиши:
* Стрелки влево-вправо - прокрутка изображений
###### Режим редактора:
Оверлеи рисуются мышью на холсте. Зажмите ЛКМ и потяните, чтобы нарисовать оверлей.
Оверлеи выделяются по щелчку мыши. Выделенному оверлею можно редактировать комментарий. Оверлей можно удалить кнопкой на панели или клавишей del. Для отмены выделения кликните по свободному месту на холсте или нажмите esc.
Можно выбрать архив с изображениями или одно изображение в качестве подложки. Если нет подложки, можно задавать размер холста. С подложкой размер холста фиксирован.
Если в архиве количество комментариев равно количеству изображений, файлы с комментариями будут загружаться на холст при переключении изображений, причём всегда первоначальные. Будьте осторожны, переключая файлы в этом режиме! Сначала сохраните изменённый комментарий
Если в архиве количество комментариев не равно количеству изображений, или если открыто одно изображение, будет создан файл с комментариями "по умолчанию", он не будет изменяться при переключении изображений в таком архиве.
Горячие клавиши:
* Стрелки влево-вправо - прокрутка подложек
* Esc - снять выделение
* Del - удалить выделенный комментарий 
  

###### Ожидают исправления: 

###### Возможные улучшения:
* Общие:
  * Поддержка других форматов архивов и изображений
  * Внедрить проверку на соответствие json файлов схеме
  * Не сбрасывать выбранный архив при смене режимов, после реализации хранения измененных файлов в редакторе
* Просмотрщик:
  * Добавить опцию "автоподгон масштаба" - если размер изображения отличается от ожидаемого, оверлеи комментариев масштабируются, чтобы соответствовать размеру изображения
  * Добавить кнопку "сохранить архив" и предупреждать о несохранённых изменениях, после реализации хранения измененных файлов в редакторе и при несбрасывании архива при переходе между режимами
* Редактор:
  * Другое поведение холста при переключении подложек
    * Автоматически сохранять файл с комментариями, очищать холст
	* Хранить комментарии для каждого файла в памяти, сохранять изображения и комментарии сразу одним архивом
  * Указание имени и размера файла вручную, указание авторства
  * Предупреждения о несохранённых изменениях
  * Загружать оверлеи из файлов для продолжения редактирования
  * Перемещение и изменение размера оверлеев
  * Не сохранять комментарии, оверлеи которых выходят за пределы холста
  * undo, redo


# Program for viewing and editing overlays with comments for images

Translation in progress...